(function(){"use strict";var t={937:function(t,e,s){var i=s(6369),a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view"),t.isFooterShow?e("footer-bar"):t._e()],1)},n=[],o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"footer"},[e("router-link",{attrs:{to:"/home",tag:"div"}},[e("i",{staticClass:"iconfont icon-shouye"}),e("span",[t._v("首页")])]),e("router-link",{attrs:{to:"/order",tag:"div"}},[e("i",{staticClass:"iconfont icon-dingdan"}),e("span",[t._v("订单")])]),e("router-link",{attrs:{to:"/center",tag:"div"}},[e("i",{staticClass:"iconfont icon-wode"}),e("span",[t._v("我的")])])],1)},r=[],c={},l=c,d=s(1001),u=(0,d.Z)(l,o,r,!1,null,"568da5f8",null),m=u.exports,p=s(3822),v={components:{footerBar:m},computed:{...(0,p.rn)(["isFooterShow"])}},h=v,g=(0,d.Z)(h,a,n,!1,null,null,null),f=g.exports,_=s(2631),C=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("header",[t._m(0),e("div",{staticClass:"address"},[e("i",{staticClass:"iconfont icon-dingweixiao icon-add",staticStyle:{"font-size":".9375rem"}}),e("span",{staticClass:"address-info"},[t._v(t._s(t.address))]),e("i",{staticClass:"iconfont icon-you-copy icon-right",staticStyle:{"font-size":"0.875rem"}}),e("span",{staticClass:"slogan"},[t._v("美食果蔬医药·30分钟送达")])]),e("div",{staticStyle:{height:"3.125rem"}},[e("div",{directives:[{name:"sticky",rawName:"v-sticky"}],staticClass:"search"},[t._m(1),e("div",{staticClass:"search-btn"},[t._v("搜索")])])]),t._m(2)]),e("div",{staticClass:"shop"},t._l(t.dataList,(function(s){return e("div",{key:s.id,staticClass:"shop-item"},[e("img",{staticClass:"shop-img",attrs:{src:"https://elm.cangdu.org/img/"+s.image_path,alt:""}}),e("div",{staticClass:"shop-info"},[e("div",{staticClass:"shop-name"},[t._v(t._s(s.name))]),e("div",{staticClass:"shop-mark"},[e("div",[e("span",{staticClass:"shop-rating"},[t._v(t._s(s.rating)),e("span",[t._v("分")])]),e("span",{staticClass:"shop-month-order"},[t._v("月售"+t._s(s.recent_order_num))])]),e("div",[e("span",{staticClass:"shop-order_lead_time"},[t._v(t._s(s.order_lead_time))]),e("span",[t._v(t._s(s.distance))])])]),e("div",{staticClass:"shop-deliver"},[e("div",[e("span",[t._v("起送¥"+t._s(s.float_minimum_order_amount))]),e("span",{staticClass:"shop-deliver-fee"},[t._v(t._s(s.piecewise_agent_fee.tips))])]),e("div",{staticClass:"shop-deliver-text"},[t._v(t._s(s.delivery_mode.text))])]),e("div",{staticClass:"shop-tag"},[t._v(t._s(s.promotion_info))]),e("div",{staticClass:"shop-tags"},t._l(s.activities,(function(s){return e("div",{key:s.id},[t._v(t._s(s.description))])})),0)])])})),0),e("div",{staticClass:"footer"},[t._v(" 附近无更多商家 ")])])},y=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("div",[t._v("饿了么")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"search-box"},[e("i",{staticClass:"iconfont icon-sousuo search-ico"}),e("span",{staticClass:"search-text"},[t._v("螺蛳粉")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tip"},[e("div",{staticClass:"tip-left"}),e("span",{staticClass:"tip-text"},[t._v("为你推荐附近的商家")]),e("div",{staticClass:"tip-right"})])}],w=s(4311),b=s(2989);s(5110);i.ZP.use(b.Z),w.Z.defaults.withCredentials=!0;const x=w.Z.create({timeout:5e3});x.defaults.headers.post["Content-Type"]="application/json; UTF-8",x.interceptors.request.use((t=>(b.Z.loading({message:"加载中...",duration:0,forbidClick:!0}),t)),(t=>Promise.reject(t))),x.interceptors.response.use((t=>(b.Z.clear(),t)),(t=>Promise.reject(t)));var k=x;const S=t=>k.get("https://elm.cangdu.org/shopping/restaurants",{params:t}),P=()=>k.post("/v1/captchas"),Z=t=>k.post("/v2/login",t),N=()=>k.get("/v2/signout"),O=t=>k.get(`/v2/pois/${t}`);i.ZP.directive("sticky",{inserted:t=>{window.onscroll=()=>{document.documentElement.scrollTop>=34.5?t.style="position: fixed; top: 2.75rem":t.style="position: relative"}}});var q={data(){return{address:"正在获取定位...",dataList:[]}},mounted(){let t=0;t=localStorage.getItem("token")?20:5,this.getPosition(t)},methods:{getPosition(t){navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{console.log(e),O(e.coords.latitude+","+e.coords.longitude).then((t=>{this.address=t.data.name})),S({latitude:e.coords.latitude,longitude:e.coords.longitude,limit:t,order_by:5}).then((t=>[this.dataList=t.data]))}),(t=>{console.log(t)}),{enableHighAccuracy:!1,timeout:1e4,maximumAge:0}):alert("该浏览器不支持navigator.geolocation")}}},I=q,j=(0,d.Z)(I,C,y,!1,null,"52d5db3f",null),E=j.exports,M=function(){var t=this,e=t._self._c;return e("div",[e("header",[t._v("饿了么")]),e("router-view")],1)},F=[],T={mounted(){localStorage.getItem("token")?"/order/oderlist"!=this.$route.path&&this.$router.replace("/order/oderlist"):"/order/unloginorder"!=this.$route.path&&this.$router.replace("/order/unloginorder")}},A=T,L=(0,d.Z)(A,M,F,!1,null,"4bd650d4",null),U=L.exports,$=function(){var t=this,e=t._self._c;return e("div",[e("header",[t._v("饿了么")]),e("van-popup",{attrs:{"overlay-class":"van-overlay",round:!0},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[e("div",{staticClass:"van-manage"},[t._v("账号管理")]),e("div",{on:{click:t.handleExit}},[t._v("退出登录")])]),e("div",{staticClass:"center-content"},[e("div",{staticClass:"user",on:{click:t.handleLogin}},[e("div",{staticClass:"user-img"}),e("div",{staticClass:"user-name"},[t._v(t._s(t.userName))]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isManage,expression:"isManage"}],staticClass:"user-manage",on:{click:function(e){return e.stopPropagation(),t.showPopup.apply(null,arguments)}}},[t._v("账号管理")])]),t._m(0),t._m(1)])],1)},z=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"common-functions"},[e("div",{staticClass:"functions-item"},[e("div",{staticClass:"functions-item-pic",staticStyle:{"background-image":"url('//img.alicdn.com/imgextra/i3/O1CN010LxbFE1iuDvnAX5E7_!!6000000004472-2-tps-66-66.png_Q90s50.jpg')"}}),e("div",{staticClass:"functions-item-text"},[t._v("我的资产")]),e("div",{staticClass:"tag"})]),e("div",{staticClass:"functions-item"},[e("div",{staticClass:"functions-item-pic",staticStyle:{"background-image":"url('https://nr-op.elemecdn.com/image/mussel-164277423089735.png?x-oss-process=image/format,png/quality,q_90')"}}),e("div",{staticClass:"functions-item-text"},[e("div",{staticStyle:{"font-size":"0.8125rem","font-weight":"bold"}},[t._v("红包")]),e("div",{staticStyle:{"margin-top":"0.1875rem","font-size":"0.625rem","line-height":"1",color:"#999"}},[t._v(" 查看我的红包 ")])])]),e("div",{staticClass:"functions-item"},[e("div",{staticClass:"functions-item-pic",staticStyle:{"background-image":"url('https://nr-op.elemecdn.com/image/mussel-1642774562217617.png?x-oss-process=image/format,png/quality,q_90')"}}),e("div",{staticClass:"functions-item-text"},[e("div",{staticStyle:{"font-size":"0.8125rem","font-weight":"bold"}},[t._v("券包")]),e("div",{staticStyle:{"margin-top":"0.1875rem","font-size":"0.625rem","line-height":"1",color:"#999"}},[t._v(" 查看我的券 ")])])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"more-functions"},[e("div",{staticClass:"functions-item"},[e("div",{staticClass:"functions-item-pic",staticStyle:{"background-image":"url('https://nr-op.elemecdn.com/image/mussel-1642992665747320.png?x-oss-process=image/format,png/quality,q_90')"}}),e("div",{staticClass:"functions-item-text"},[t._v("我的地址")])]),e("div",{staticClass:"functions-item"},[e("div",{staticClass:"functions-item-pic",staticStyle:{"background-image":"url('https://nr-op.elemecdn.com/image/mussel-1642992943515310.png?x-oss-process=image/format,png/quality,q_90')"}}),e("div",{staticClass:"functions-item-text"},[t._v("我的客服")])]),e("div",{staticClass:"functions-item"},[e("div",{staticClass:"functions-item-pic",staticStyle:{"background-image":"url('https://nr-op.elemecdn.com/image/mussel-1642993031653333.png?x-oss-process=image/format,png/quality,q_90')"}}),e("div",{staticClass:"functions-item-text"},[t._v("关于饿了么")])]),e("div",{staticClass:"functions-item"},[e("div",{staticClass:"functions-item-pic",staticStyle:{"background-image":"url('https://nr-op.elemecdn.com/image/mussel-1642993119557101.png?x-oss-process=image/format,png/quality,q_90')"}}),e("div",{staticClass:"functions-item-text"},[t._v("用户隐私")])]),e("div",{staticClass:"functions-item"},[e("div",{staticClass:"functions-item-pic",staticStyle:{"background-image":"url('https://nr-op.elemecdn.com/image/mussel-1642993191570286.png?x-oss-process=image/format,png/quality,q_90')"}}),e("div",{staticClass:"functions-item-text"},[t._v("规则中心")])])])}],B=(s(7658),s(6811));i.ZP.use(B.Z);var D={data(){return{show:!1}},computed:{...(0,p.rn)(["userName","isManage"])},methods:{handleLogin(){null===localStorage.getItem("token")&&this.$router.push("/login")},showPopup(){this.show=!0},handleExit(){N().then((t=>{console.log(t.data)})),localStorage.setItem("token",""),this.setUserName("立即登录"),this.setIsManage(!1),this.$router.replace("/home")},...(0,p.OI)(["setUserName","setIsManage"])}},H=D,K=(0,d.Z)(H,$,z,!1,null,"3e69624d",null),Q=K.exports,X=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"login"}},[e("div",{staticClass:"login"},[e("div",{staticClass:"login-name"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticStyle:{width:"100%"},attrs:{type:"text",placeholder:"请输入用户名"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),e("div",{staticClass:"login-pwd"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticStyle:{width:"100%"},attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),e("div",{staticClass:"login-code"},[e("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:t.codeUrl,width:"80px",height:"30px"},on:{click:t.handleCode}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.captcha_code,expression:"captcha_code"}],staticClass:"login-code-text",attrs:{type:"text"},domProps:{value:t.captcha_code},on:{input:function(e){e.target.composing||(t.captcha_code=e.target.value)}}}),e("label",{staticClass:"code_error"},[t._v(t._s(t.code_error))])]),e("div",{staticClass:"login-btn",on:{click:t.handleSubmit}},[t._v("登录")]),e("div",{staticClass:"login-text"},[t._v("温馨提示：未登录过的新用户，自动注册。注册过的用户可凭账号密码登录")])])])},G=[],J=s(6450);i.ZP.use(J.Z);var R={data(){return{codeUrl:"",username:"",password:"",captcha_code:"",code_error:""}},mounted(){this.setIsFooterShow(!1),this.handleCode()},methods:{handleCode(){P().then((t=>{this.codeUrl=t.data.code}))},handleSubmit(){""!=this.username&&""!=this.password?""!=this.captcha_code?Z({username:this.username,password:this.password,captcha_code:this.captcha_code}).then((t=>{console.log(t.data),0===t.data.status?(this.code_error=t.data.message,this.captcha_code="",this.handleCode()):(localStorage.setItem("token",t.data.user_id),this.setUserName(t.data.username),this.setIsManage(!0),this.$router.replace("/home"))})):(0,J.Z)({type:"warning",message:"请输入验证码"}):(0,J.Z)({type:"warning",message:"请输入用户名和密码"})},...(0,p.OI)(["setIsFooterShow","setUserName","setIsManage"])},destroyed(){this.setIsFooterShow(!0)}},V=R,W=(0,d.Z)(V,X,G,!1,null,"78f0ffc6",null),Y=W.exports;i.ZP.use(_.ZP);const tt=[{path:"/",redirect:"/home"},{path:"*",redirect:"/home"},{path:"/home",name:"home",component:E},{path:"/order",name:"order",component:U,meta:{isSkip:!0},children:[{path:"/order/unloginorder",component:()=>s.e(947).then(s.bind(s,5947))},{path:"/order/oderlist",component:()=>s.e(306).then(s.bind(s,3306))}]},{path:"/center",name:"center",component:Q},{path:"/login",component:Y}],et=new _.ZP({routes:tt});var st=et,it=s(2415);i.ZP.use(p.ZP);var at=new p.ZP.Store({plugins:[(0,it.Z)({reducer:t=>({userName:t.userName,isManage:t.isManage})})],state:{isFooterShow:!0,userName:"立即登录",isManage:!1},getters:{},mutations:{setIsFooterShow:(t,e)=>{t.isFooterShow=e},setUserName:(t,e)=>{t.userName=e},setIsManage:(t,e)=>{t.isManage=e}},actions:{},modules:{}});i.ZP.config.productionTip=!1,new i.ZP({router:st,store:at,render:t=>t(f)}).$mount("#app")}},e={};function s(i){var a=e[i];if(void 0!==a)return a.exports;var n=e[i]={exports:{}};return t[i](n,n.exports,s),n.exports}s.m=t,function(){var t=[];s.O=function(e,i,a,n){if(!i){var o=1/0;for(d=0;d<t.length;d++){i=t[d][0],a=t[d][1],n=t[d][2];for(var r=!0,c=0;c<i.length;c++)(!1&n||o>=n)&&Object.keys(s.O).every((function(t){return s.O[t](i[c])}))?i.splice(c--,1):(r=!1,n<o&&(o=n));if(r){t.splice(d--,1);var l=a();void 0!==l&&(e=l)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[i,a,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){s.f={},s.e=function(t){return Promise.all(Object.keys(s.f).reduce((function(e,i){return s.f[i](t,e),e}),[]))}}(),function(){s.u=function(t){return"js/"+t+"."+{306:"679cad3a",947:"21f49692"}[t]+".js"}}(),function(){s.miniCssF=function(t){return"css/"+t+".c10c0228.css"}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="elm:";s.l=function(i,a,n,o){if(t[i])t[i].push(a);else{var r,c;if(void 0!==n)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==i||u.getAttribute("data-webpack")==e+n){r=u;break}}r||(c=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,s.nc&&r.setAttribute("nonce",s.nc),r.setAttribute("data-webpack",e+n),r.src=i),t[i]=[a];var m=function(e,s){r.onerror=r.onload=null,clearTimeout(p);var a=t[i];if(delete t[i],r.parentNode&&r.parentNode.removeChild(r),a&&a.forEach((function(t){return t(s)})),e)return e(s)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=m.bind(null,r.onerror),r.onload=m.bind(null,r.onload),c&&document.head.appendChild(r)}}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var t=function(t,e,s,i){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var n=function(n){if(a.onerror=a.onload=null,"load"===n.type)s();else{var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.href||e,c=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=o,c.request=r,a.parentNode.removeChild(a),i(c)}};return a.onerror=a.onload=n,a.href=e,document.head.appendChild(a),a},e=function(t,e){for(var s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var a=s[i],n=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(n===t||n===e))return a}var o=document.getElementsByTagName("style");for(i=0;i<o.length;i++){a=o[i],n=a.getAttribute("data-href");if(n===t||n===e)return a}},i=function(i){return new Promise((function(a,n){var o=s.miniCssF(i),r=s.p+o;if(e(o,r))return a();t(i,r,a,n)}))},a={143:0};s.f.miniCss=function(t,e){var s={947:1};a[t]?e.push(a[t]):0!==a[t]&&s[t]&&e.push(a[t]=i(t).then((function(){a[t]=0}),(function(e){throw delete a[t],e})))}}(),function(){var t={143:0};s.f.j=function(e,i){var a=s.o(t,e)?t[e]:void 0;if(0!==a)if(a)i.push(a[2]);else{var n=new Promise((function(s,i){a=t[e]=[s,i]}));i.push(a[2]=n);var o=s.p+s.u(e),r=new Error,c=function(i){if(s.o(t,e)&&(a=t[e],0!==a&&(t[e]=void 0),a)){var n=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;r.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",r.name="ChunkLoadError",r.type=n,r.request=o,a[1](r)}};s.l(o,c,"chunk-"+e,e)}},s.O.j=function(e){return 0===t[e]};var e=function(e,i){var a,n,o=i[0],r=i[1],c=i[2],l=0;if(o.some((function(e){return 0!==t[e]}))){for(a in r)s.o(r,a)&&(s.m[a]=r[a]);if(c)var d=c(s)}for(e&&e(i);l<o.length;l++)n=o[l],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(d)},i=self["webpackChunkelm"]=self["webpackChunkelm"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(937)}));i=s.O(i)})();
//# sourceMappingURL=app.d8fb94bc.js.map